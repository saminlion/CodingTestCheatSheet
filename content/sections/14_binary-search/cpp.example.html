// 이분 탐색(Binary Search)을 사용하여 정렬된 배열에서 특정 값의 인덱스를 찾는 예제

#include <iostream>
#include <vector>
using namespace std;

// target이 존재하면 해당 인덱스를, 없으면 -1을 반환
int BinarySearch(const vector<int>& arr, int target) {
    int left = 0;                  // 탐색 구간의 왼쪽 끝
    int right = arr.size() - 1;    // 탐색 구간의 오른쪽 끝

    // left가 right보다 커지기 전까지 반복 (구간이 유효한 동안)
    while (left <= right) {
        // 가운데 인덱스를 계산 (오버플로 방지를 위해 left + (right - left) / 2 사용 가능)
        int mid = (left + right) / 2;

        // 현재 중간 값이 target과 같으면 해당 인덱스 반환
        if (arr[mid] == target)
            return mid;

        // target이 더 크면 오른쪽 절반으로 이동 (left를 오른쪽으로 좁힘)
        else if (arr[mid] < target)
            left = mid + 1;

        // target이 더 작으면 왼쪽 절반으로 이동 (right를 왼쪽으로 좁힘)
        else
            right = mid - 1;
    }

    // 배열에 target이 없는 경우
    return -1;
}

int main() {
    int n = 5;
    int x = 7;
    vector<int> arr = { 1, 3, 5, 7, 9 };

    // target x(=7)가 배열 arr 안에 있는지 탐색
    int index = BinarySearch(arr, x);

    // 결과 출력: target의 인덱스 (없으면 -1)
    cout << index << endl;

    return 0;
}