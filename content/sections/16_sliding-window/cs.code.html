// 주어진 정수 배열 arr에서 길이 k인 연속된 부분 배열의 최대 합을 구하는 알고리즘
// 슬라이딩 윈도우 기법 사용 → O(N) 시간 복잡도

int[] arr = { 1, 4, 2, 10, 23, 3, 1, 0, 20 };
int k = 4;

// 1. 처음 윈도우(0~k-1)의 합을 먼저 계산한다.
//    → 윈도우를 한 칸씩 옮기며 효율적으로 값을 갱신할 수 있도록 초기값 설정
int sum = 0;
for (int i = 0; i < k; i++) {
    sum += arr[i];
}

// 2. 최대값을 현재 윈도우 합으로 초기화
int maxSum = sum;

// 3. k번째 인덱스부터 끝까지 한 칸씩 윈도우를 이동하며 최대값을 갱신
for (int i = k; i < arr.Length; i++) {
    // 오른쪽에 새로 들어오는 값을 더함
    sum += arr[i];

    // 왼쪽에서 빠지는 값을 뺌 (i-k가 윈도우 왼쪽 끝)
    sum -= arr[i - k];

    // 현재 합과 최대값을 비교하여 더 큰 값으로 갱신
    maxSum = Math.Max(maxSum, sum);
}

// 최종 결과 출력
Console.WriteLine(maxSum);